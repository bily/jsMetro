<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
</head>
<body>
    <section id="Dialog">
                <h2>Dialog</h2>
                <p>Opens a full-screen dialog for entering information or confirming changes.</p>

                <h3>Format</h3>
                <pre>$.js.dialog([msg:string/$element], [callback:function]);</pre>

                <h3>Samples</h3>
                <h4>Dialog w/ Callback</h4>
                <p>The below sample shows a dialog with two buttons and a callback that displays the chosen option.</p>
                <pre>$.js.dialog(
    '&lt;h3&gt;Confirm Your Eyes Exist&lt;/h3&gt;&lt;p&gt;Can you read this?&lt;/p&gt;' +
    '&lt;div class="pull-right"&gt;' +
    '   &lt;a href="#" data-role="button" data-theme="google"&gt;No&lt;/a&gt;' +
    '   &lt;a href="#" data-role="button" data-theme="green"&gt;Yes&lt;/a&gt;' +
    '&lt;/div&gt;',
    function (dialog, element, event) {
        log('dialog closed: ' + element.html());
    }
);</pre>

                <div class="clearfix">
                    <div class="pull-right">
                        <a href="#" data-role="button" onclick="javascript:$.showcase.dialog_simpleSample();return false;"><i data-icon="refresh"></i> Run this Sample</a>
                    </div>
                </div>

                <h4>Dialog w/ Form Submit</h4>
                <p>The Dialog method is built to support any HTML you would otherwise find in the page itself. Here we are submitting an HTML Form to an MVC controller. On the controller side we do work with a Model (object). Note that nothing special is done between the two.</p>
                <pre>$.js.dialog(
    '&lt;h3&gt;Create Promoter&lt;/h3&gt;&lt;form method="post" action="/promoters/create"&gt;' +
    '   &lt;div class="editor-label"&gt;&lt;label for="Name"&gt;Name:&lt;/label&gt;&lt;/div&gt;' +
    '   &lt;div class="editor-field"&gt;&lt;input type="text" id="Name" name="Name" /&gt;&lt;/div&gt;' +
    '   &lt;div class="editor-label"&gt;&lt;label for="Website"&gt;Website:&lt;/label&gt;&lt;/div&gt;' +
    '   &lt;div class="editor-field"&gt;&lt;input type="text" id="Website" name="Website" /&gt;&lt;/div&gt;' +
    '&lt;/form&gt;&lt;div class="pull-right"&gt;' +
    '   &lt;a href="#" data-role="button"&gt;Cancel&lt;/a&gt;' +
    '   &lt;a href="#" data-role="button" data-theme="green"&gt;Create&lt;/a&gt;' +
    '&lt;/div&gt;',
    function (dlg, element, event) {
        if (element.html() != 'Create') {
            return;
        }

        dlg.find('form').submit();
    }
);</pre>

                <h4>Dialog w/ jQuery Element</h4>
                <p>The <code>$.js.dialog</code> method will also accept a jQuery element in the <code>msg</code> parameter. Consider the following simple HTML layout:</p>
                <pre>&lt;div id="DialogHolder" style="display:none;"&gt;
    &lt;form&gt;
        &lt;h3&gt;This is a form.&lt;/h3&gt;
        &lt;p&gt;This is a form from a hidden element on the page. &lt;/p&gt;
        &lt;div class="pull-right"&gt;
            &lt;a href="#" data-role="button" data-theme="google"&gt;Cancel&lt;/a&gt;
            &lt;a href="#" data-role="button" data-theme="green"&gt;Continue&lt;/a&gt;
        &lt;/div&gt;
    &lt;/form&gt;
&lt;/div&gt;</pre>

                <p>When <code>$.js.dialog</code> notices a jQuery element being passed in, it uses <code>appendTo</code> to move that element into the dialog's DOM. During the callback, we simply move the element back.</p>
                <pre>$.showcase.dialog_jQuerySample = function () {
    var $holder = $('#DialogHolder'),
        $form = $holder.find('form:eq(0)');

    $.js.dialog(
        $form,
        function (dlg, element, event) {
            $form.appendTo($holder);
        }
    );
};</pre>
                <div class="clearfix">
                    <div class="pull-right">
                        <a href="#" data-role="button" onclick="javascript:$.showcase.dialog_jQuerySample();return false;"><i data-icon="refresh"></i> Run this Sample</a>
                    </div>
                </div>

                <div id="DialogHolder" style="display:none;">
                    <form>
                        <h3>This is a form.</h3>
                        <p>This is a form from a hidden element on the page. </p>
                        <div class="pull-right">
                            <a href="#" data-role="button" data-theme="google">Cancel</a>
                            <a href="#" data-role="button" data-theme="green">Continue</a>
                        </div>
                    </form>
                </div>

                <h4>Large Dialogs</h4>
                <div class="clearfix">
                    <div class="pull-right">
                        <a href="#" data-role="button" onclick="javascript:$.showcase.dialog_largeSample();return false;"><i data-icon="refresh"></i> Run this Sample</a>
                    </div>
                </div>
            </section>

            <hr />

            <section id="ActionStack">
                <h2>ActionStack</h2>
                <p>The <code>ActionStack</code> class supports First-In-Last-Out (FILO, Stack) based event processing. The goal is to support simultaneous use of the $.js.overlay method and other general purpose, single instance UI elements.</p>

                <h3>Format</h3>
                <pre>var as = new ActionStack();</pre>

                <h3>Samples</h3>
                <p>In the below example, the second event should not fire until the third one has cleared (7000ms+).</p>
                <pre>var as = new ActionStack();

as.push(function (action) {
    log('first action to be entered will fire right away.');

    setTimeout(function () {
        log('timeout finished! time to close the action!');

        action.close();
    }, 5000);

    log('now we\'ll wait 5000ms.');
});

as.push(function (action) {
    log('second action - this shouldn\'t fire until the first one has closed.');

    action.close();
});</pre>

                <div class="clearfix">
                    <div class="pull-right">
                        <a href="#DebugLog" data-role="button"><i data-icon="up"></i> Jump to Log</a>
                        <a href="#" onclick="javascript:$.showcase.actionStack_simpleSample();return false;" data-role="button"><i data-icon="refresh"></i> Run this Sample</a>
                    </div>
                </div>
            </section>

            <hr />

            <section id="Events">
                <h2>Events</h2>
                <p>To provide simple access to the implementation of an Event Model, the <code>Event</code> class allows for quick, sequential invocation of methods.</p>
                
                <h3>Format</h3>
                <pre>var ev = new Event([name:string]);</pre>

                <h3>Samples</h3>
                <pre>var ev = new Event('test-event'),
    fun = function () { log('hello, world'); };
                
ev.addHandler(fun);
ev.invoke();
ev.removeHandler(fun);
ev.invoke();</pre>

                <p>The above gives the following output:</p>

                <pre>test-event.invoke -> Found 1 handlers.
hello, world
test-event.invoke -> Found 0 handlers.</pre>

                <p>This should also work with named-anonymous functions:</p>
                <pre>var ev = new Event('test-event');

ev.addHandler(function foo() { log('hello, world'); });
ev.invoke();
ev.removeHandler(function foo() { });
ev.invoke();</pre>
            </section>

            <hr />
</body>
</html>
